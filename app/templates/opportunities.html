{% extends "base.html" %}
{% block body %}
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Organization</th>
    </tr>
  </thead>
  <tbody>
    {% for o in opportunities.items %}
      <tr>
	<td>{{ o.name }}</td>
	<td>{{ o.description }}</td>
	<td>{{ o.organization }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% macro render_pagination(pagination, endpoint) %}
  
  <ul class="pagination">

    {% if pagination.has_prev %}
      <li>
        <a href="{{ url_for(endpoint, page=pagination.prev_num) }}" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
    {% else %}
      <li class="disabled">
          <span aria-hidden="true">&laquo;</span>
      </li>
    {% endif %}

    {% for p in pagination.iter_pages(left_edge=1, left_current=2, right_current=3, right_edge=1) %}
      {% if p %}
        {% if p != pagination.page %}
          <li>
            <a href="{{ url_for(endpoint, page=p) }}">{{ p }}</a>
          </li>
        {% else %}
          <li class="active">
            <a href="{{ url_for(endpoint, page=p) }}">{{ p }}</a>
          </li>
        {% endif %}
      {% else %}
        <li class="disabled">
          <span class="ellipsis">&hellip;</span>
        </li>
      {% endif %}
    {% endfor %}

    {% if pagination.has_next %}
      <li>
        <a href="{{ url_for(endpoint, page=pagination.next_num) }}" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    {% else %}
      <li class="disabled">
        <span aria-hidden="true">&raquo;</span>
      </li>
    {% endif %}

  </ul>
{% endmacro %}

{{ render_pagination(opportunities, ".opportunities") }}
{% endblock body %}
